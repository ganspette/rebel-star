@echo off
chcp 65001 >nul
title Rebel Star
color 0A

echo.
echo   ██████╗ ███████╗██████╗ ███████╗██╗      ███████╗████████╗ █████╗ ██████╗ 
echo   ██╔══██╗██╔════╝██╔══██╗██╔════╝██║      ██╔════╝╚══██╔══╝██╔══██╗██╔══██╗
echo   ██████╔╝█████╗  ██████╔╝█████╗  ██║█████╗███████╗   ██║   ███████║██████╔╝
echo   ██╔══██╗██╔══╝  ██╔══██╗██╔══╝  ██║╚════╝╚════██║   ██║   ██╔══██║██╔══██╗
echo   ██║  ██║███████╗██║  ██║███████╗███████╗ ███████║   ██║   ██║  ██║██║  ██║
echo   ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚══════╝╚══════╝ ╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝
echo.
echo                          [Тактическая стратегия]
echo.

REM Получаем путь к текущей папке
set "GAME_DIR=%~dp0"
cd /d "%GAME_DIR%"

echo Запуск игры из папки: %GAME_DIR%
echo.

REM Устанавливаем зависимости если нужно (тихо)
echo Проверка зависимостей...
python -c "import pygame" 2>nul >nul
if errorlevel 1 (
    echo Pygame не найден. Устанавливаем...
    pip install pygame --quiet
    if errorlevel 1 (
        echo Не удалось установить pygame!
        echo Пожалуйста, установите вручную: pip install pygame
        pause
        exit /b 1
    )
    echo Pygame установлен!
) else (
    echo Pygame готов.
)

REM Запускаем игру
echo.
echo ========================================
echo          Запуск игры...
echo ========================================
echo.

python main.py

REM Проверяем результат выполнения
if errorlevel 1 (
    echo.
    echo ========================================
    echo Ошибка при запуске игры!
    echo Возможные причины:
    echo 1. Отсутствует файл main.py
    echo 2. Нет нужных файлов в папке
    echo 3. Проблемы с файлами спрайтов
    echo ========================================
    pause
    exit /b 1
)

echo.
echo ========================================
echo          Игра завершена
echo ========================================
pause